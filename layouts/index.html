{{ define "main" }}
<div class="container">
  <div class="catalog">
    <div class="catalog-table">
      {{ range .Pages }}
      <div class="catalog-row">
        <div class="catalog-timestamp">
          {{ $weekStart := .Date.AddDate 0 0 (int (sub 1 (int .Date.Weekday))) }}
          {{ $weekEnd := $weekStart.AddDate 0 0 6 }}
          <a href="/archive/{{ .Date.Format "2006" }}/week-{{ printf "%02d" (.Date.YearDay | div 7 | add 1) }}/" title="Week of {{ $weekStart.Format "Jan 02" }}">
            {{ .Date.Format "Mon" }}
          </a>
          <a href="/archive/{{ .Date.Format "2006" }}/{{ .Date.Format "01" }}/" title="{{ .Date.Format "January 2006" }}">
            {{ .Date.Format "Jan" }}
          </a>
          <a href="/archive/{{ .Date.Format "2006" }}/" title="{{ .Date.Format "2006" }}">
            {{ .Date.Format "02 2006" }}
          </a>
          <span>{{ .Date.Format "15:04" }}</span>
        </div>
        
        <div class="catalog-title">
          <a href="{{ .Permalink }}">
            {{ if .Title }}
              {{ .Title }}
            {{ else }}
              {{ .Date.Format "Untitled - Jan 02, 2006" }}
            {{ end }}
          </a>
        </div>
        
        <div class="catalog-tag">
          {{ with index .Params.tags 0 }}
            <a href="/tags/{{ . | urlize }}/">{{ . }}</a>
          {{ end }}
        </div>
      </div>
      {{ end }}
    </div>
  </div>
  
  {{ if .Paginator.HasPrev }}
  <div style="margin-top: 2rem;">
    <a href="{{ .Paginator.Prev.URL }}">← Newer</a>
    {{ if .Paginator.HasNext }}
    <span style="margin: 0 1rem;">|</span>
    {{ end }}
    {{ if .Paginator.HasNext }}
    <a href="{{ .Paginator.Next.URL }}">Older →</a>
    {{ end }}
  </div>
  {{ else if .Paginator.HasNext }}
  <div style="margin-top: 2rem;">
    <a href="{{ .Paginator.Next.URL }}">Older →</a>
  </div>
  {{ end }}
</div>
{{ end }}
